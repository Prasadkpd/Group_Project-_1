<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer</title>
    <!-- CSS Files -->
    <!-- Toggle Password Icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
    <!-- Top Nav bar CSS styles -->
    <link rel="stylesheet" href="/Assets/css/navbar.css?version=2">
<!-- File Specific CSS Styles -->
    <link rel="stylesheet" href="/Assets/css/profileedit.css?version=2">
    
    <!-- <link rel="stylesheet" href="/Assets/css/Customer/new_customer_dashboard.css?version=17"> -->
    <!-- FontAwesome Icon -->
    <script src="https://kit.fontawesome.com/3220c9480a.js" crossorigin="anonymous"></script>
</head>

<body>
    <!-- Top Navigation Bar -->
    <nav>
        <div class="nav-left">
            <div class="logo-container">
                <a href="/">
                    <i class="fas fa-running "></i>
                    <span class="logo-name">Sportizza</span>
                </a>
            </div>

            <div class="nav-right">
                <!-- Profile button -->
                <div class="nav-profile">
                    <button class="openbutton" onclick="openpopupform()">
                        <div class="profile-details">
                            <img src="/Assets/images/customer/profile-picture.jpg" class="profile-picture">
                            <div class="username">{{current_user.first_name}} {{current_user.last_name}}</div>
                        </div>
                    </button>
                </div>

                <!-- Signout button -->
                <div class="sign-in-out-btn">
                    <button onclick="open_popup_signout_message()">Sign Out</button>
                    <!-- {% if session.user_id %}
                User with ID {{session.user_id}} is logged in.
            {% endif %} -->
                </div>
            </div>
        </div>
    </nav>

    <!-- start popup form for edit profile -->
    <div id="myForm" class="sectionpopnav">
        <div class="formsectionprofile">
            <div>
                <button class="closebutton" onclick="closepopupform()">❌</button>
            </div>

            <form action="/customer" method="post" style="margin:0px 20px 5px 20px;" class="nav-user-edit-from"
                id="formEditUserProfile" onsubmit="validateEditUserForm()" enctype="multipart/form-data">

                <div class="editProPic">
                    <img id="form-profile-picture" src="/Assets/images/customer/profile-picture.jpg" alt="">
                    <input type="file" id="file" accept="image/*">
                    <label for="file" id="uploadBtn">Choose Photo</label>
                </div>

                <div class="input-box">
                    <label for="firstName">First Name</label>
                    <div class="input-row">
                        <input id="firstName" type="text" name="first_name" onfocusout="validateFirstName()"
                            placeholder="Enter first name" value="{{current_user.first_name}}">
                        <div class="helper-text" id="firstNameMsg">
                            <p>{{errors["first_name1"]}} {{errors["first_name2"]}}</p>
                        </div>
                    </div>
                </div>

                <div class="input-box">
                    <label for="lastName">Last Name</label>
                    <div class="input-row">
                        <input id="lastName" type="text" name="last_name" onfocusout="validateLastName()"
                            placeholder="Enter last name" value="{{current_user.last_name}}">
                        <div class="helper-text" id="lastNameMsg">
                            <p>{{errors["last_name1"]}} {{errors["last_name2"]}}</p>
                        </div>
                    </div>
                </div>

                <div class="input-box">
                    <label for="username">Username</label>
                    <div class="input-row">
                        <input id="username" type="text" name="username" onfocusout="validateUsername()"
                            placeholder="Enter Username" value="{{current_user.username}}">
                        <div class="helper-text" id="usernameMsg">
                            <p>{{errors["username1"]}} {{errors["username2"]}}</p>
                        </div>
                    </div>
                </div>

                <div class="input-box">
                    <label for="password">Password</label>
                    <button class="change-password" id="ChangePassword">
                        <i class="fas fa-pen"></i>
                        Change Password
                    </button>
                </div>

                <div class="input-box">
                    <label for="primary_contact">Primary Contact</label>
                    <div class="input-row">
                        <input id="primary_contact" type="text" name="primary_contact"
                            value="{{current_user.primary_contact}}" disabled>
                        <i class="fas fa-pen" onclick="open_editPrimaryPhoneNumber()"></i>
                        <div class="helper-text" id="mobileMsg">
                            <p>{{errors["mobile_number1"]}}
                                {{errors["mobile_number2"]}}
                                {{errors["mobile_number3"]}}
                            </p>
                        </div>
                    </div>
                </div>

                <input type="submit" value="Save">
            </form>
        </div>
    </div>
    <!-- end popup form for edit profile -->

    <!-- start edit primary number section -->
    <div id="popup_editPrimaryNumber" class="sectionpopnav">
        <div class="formsectionnav">
            <div>
                <button class="closebutton" onclick="close_editPrimaryPhoneNumber()">❌</button>
            </div>
            <div class="popup-header">
                <h3>Do you really want to change your primary contact?</h3>
            </div>
            <div style="display:flex;">
                <a class="popup_buttonnav" href="/otp">YES</a>
                <button onclick="close_editPrimaryPhoneNumber()" class="popup_buttonnav red">
                    NO
                </button>
            </div>
            <div class="opt-msg">**We are going to send you an OTP code to your previous Primary Contact</div>
        </div>
    </div>
    <!--end edit primary number section -->

    <!-- start edit password number section -->
    <div id="popup_editPassword" class="sectionpopnav">
        <div class="formsectionnav">
            <div>
                <button class="closebutton" onclick="close_editPassword()">❌</button>
            </div>
            <div class="popup-header">
                <h2>Password Reset</h2>
            </div>
            <form style="margin:20px 20px 0px 20px" action="/" id="formPassword" onsubmit="validatePasswordForm()">
                <div class="input-box">
                    <label for="oldPassword">Old Password</label>
                    <div class="input-row">
                        <input id="oldPassword" type="password" name="old_password" onfocusout="validateOldPassword()"
                            placeholder="Enter old password">
                        <i class="bi bi-eye-slash" id="togglePassword1"></i>
                        <div class="helper-text" id="firstNameMsg">
                            <p>{{errors["first_name1"]}} {{errors["first_name2"]}}</p>
                        </div>
                    </div>
                </div>

                <div class="input-box">
                    <label for="oldPassword">New Password</label>
                    <div class="input-row">
                        <input id="newPassword" type="password" name="new_password" onfocusout="validateNewPassword()"
                            placeholder="Enter new password">
                        <i class="bi bi-eye-slash" id="togglePassword2"></i>
                        <div class="helper-text" id="firstNameMsg">
                            <p>{{errors["first_name1"]}} {{errors["first_name2"]}}</p>
                        </div>
                    </div>
                </div>

                <div style="display:flex" class="response_buttons">
                    <input type=submit class="popup_buttonnav" value="CONFIRM">
                    <button id="No_EditPassword" class="popup_buttonnav red">
                        CANCEL
                    </button>
                </div>
            </form>
        </div>
    </div>
    <!--end edit password number section -->
    <!-- end popup form for edit profile -->

    <!-- start pop up sign out section -->
    <div id="popup_signout" class="sectionpopnav">
        <div class="formsectionnav">
            <div>
                <button class="closebutton" onclick="close_popup_signout_message()">❌</button>
            </div>
            <form action="/action_page.php" style="margin:20px">
                <div style="margin:auto">
                    <h1>Sign Out</h1>
                    <p>Do your really want to sign out now?</p>
                </div>
            </form>
            <div style="display:flex">
                <button class="popup_buttonnav">
                    {% if current_user %}
                    <a href="/logout"> YES</a>
                    {% endif %}
                </button>
                <button onclick="close_popup_signout_message()" class="popup_delete_buttonnav">
                    NO
                </button>
            </div>
        </div>
    </div>
    <!-- end pop up sign out section -->

    <!-- End Top Navigation Bar -->

    <!-- Start of Footer -->
    <footer>
        <div class="copyright">
            <p>
                Copyright &copy;2021 All rights reserved | Sportizza Inc.
            </p>
        </div>
    </footer>
    <!-- End of Footer -->

    <!-- Validation js -->
    <script type="text/javascript" src="/Assets/js/signup_validation.js?v=8"></script>
    <!-- Top navbar js -->
    <script type="text/javascript" src="/Assets/js/navbar.js?v=8"></script>
    <!-- File specific js -->
    <script type="text/javascript" src="/Assets/js/editUser.js?v=8"></script>

    <!-- <script type="text/javascript" src="/Assets/js/Customer/new_customer_dashbord.js?v=8"></script>  -->
</body>

</html>